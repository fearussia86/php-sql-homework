Дарья Преподаватель Курсы Итмо:
Вот это задания ко вторнику. Репозиторий с занятий по бд чуть позже будет.
Написать sql запросы для следующих операций: 

1 Создать таблицу  для хранения информации о книгах. Таблица создаётся со столбцами: id, название, описание, цена, количество на складе, количество страниц, изображение, автор (id_author). Таблицу с авторами создавать не нужно. 
С типами данных определиться самостоятельно. 

2 Вставить данные в таблицу. 

3 Вывести название, цену и изображение книг с ценой от 500 до 1500. Сортировка по убыванию. 

4 Вывести названия и описание  книг с id автора равным 3. Сортировка по возрастанию. 

5 Вывести цену книг, которых на складе меньше 10. 

6 Вывести всю информацию о книгах, в описании которых встречается слово 'природа'. 

7 Вывести названия 5ти  книг, у которых цена меньше 1700 и id автора 2.

8 Вывести количество книг на складе название которых начинается со слова 'программирование', сортировать по возрастанию. 

9 Вывести всю информацию о книгах, у которых id автора не 5.



РЕШЕНИЕ ЗАДАЧИ. 

//1. Подключаемся к серверу Mysql

mysql -u username -p

//1.2. СОЗДАЕМ ПОЛЬЗОВАТЕЛЯ И БАЗУ ДАННЫХ

CREATE USER 'newuser2'@'localhost' IDENTIFIED BY 'pass2';

CREATE DATABASE books

//1.3. ПРЕДОСТАВЛЯЕМ ДОСТУПЫ ПОЛЬЗОВАТЕЛЮ newuser2 ко всем операциям на Mysql на локальном хостинге 
GRANT ALL ON *.* TO 'newuser2'@'localhost'

//1.4. show databases; - проверить, что база данных появилась


//1.5. Создаем таблицу для хранения информации о книгах. Таблица создаётся со столбцами: id, название, описание, 
цена, количество на складе, количество страниц, изображение, автор (id_author). Таблицу с авторами создавать не нужно. 
С типами данных определиться самостоятельно. 

CREATE TABLE IF NOT EXISTS books_table (
\\Далее идут столбцы

`id` INT NOT NULL AUTO_INCREMENT, 
`titlebook` VARCHAR(50) NOT NULL,
`description` VARCHAR(250) NOT NULL,
`price` INT NOT NULL,
`quantityStock` INT NOT NULL,
`quantityPages` INT NOT NULL,
`image` TEXT NOT NULL,
`id_author` INT NOT NULL,
PRIMARY KEY(id)

PRIMARY KEY(`id`)  \\Связи между таблицами устанавливаются между внешними и внутренними первичными ключами.


) ENGINE=InnoDB



//2. Вставить данные в таблицу. 

INSERT INTO books_table() VALUES(1, 'Маша и Медведи', 'description1', '1000', 15, 150, 'localhost/images/imagebook1', 'author1');
INSERT INTO books_table() VALUES(2, 'Программирование компутера', 'description1', '1500', 12, 150, 'localhost/images/imagebook1', 'author2');
INSERT INTO books_table() VALUES(3, 'Природа IT решений', 'description1 вот это природа', '1000', 10, 150, 'localhost/images/imagebook1', 'author3');
INSERT INTO books_table() VALUES(4, 'Программирование на PHP', 'description1', '1200', 5, 150, 'localhost/images/imagebook1', 'author4');
INSERT INTO books_table() VALUES(5, 'Природа и ланшафт Африки', 'description1', '1400', 4, 150, 'localhost/images/imagebook1', 'author5');
INSERT INTO books_table() VALUES(6, 'Три Мушкетера', 'description1', '1900', 2, 150, 'localhost/images/imagebook1', 'author6');
INSERT INTO books_table() VALUES(7, 'By whom the bell rings', 'description1', '2000', 25, 150, 'localhost/images/imagebook1', 'author7');



//3. Вывести название, цену и изображение книг с ценой от 500 до 1500. Сортировка по убыванию. 


SELECT имена_столбцов FROM имя_таблицы WHERE условие;


$viborka1 = "SELECT titlebook,price,image FROM books_table WHERE price BETWEEN 500 and 1500 ORDER BY price DESC";
echo $viborka1;



//4. Вывести названия и описание  книг с id автора равным 3. Сортировка по возрастанию. 

$viborka2 = "SELECT titlebook,description FROM books_table WHERE id=3 ORDER BY id ASC";
echo $viborka2;

//5. Вывести цену книг, которых на складе меньше 10. 


$viborka3 = "SELECT price FROM books_table WHERE quantityStock<10";
echo $viborka3;


//6. Вывести всю информацию о книгах, в описании которых встречается слово 'природа'. 

$viborka4 = "SELECT * FROM books_table WHERE desciption like '%природа%'";


//7. Вывести названия 5ти  книг, у которых цена меньше 1700 и id автора 2.

$viborka5 = "SELECT titlebook FROM books_table WHERE price < 1700 AND id_author=2";


//8. Вывести количество книг на складе название которых начинается со слова 'программирование', сортировать по возрастанию. 

$programmirovanie = "SELECT quantityStock FROM books_table WHERE titlebook like 'программирование%'";


//9. Вывести всю информацию о книгах, у которых id автора не 5.


$notfive = "SELECT * FROM books_table WHERE id NOT 5;


